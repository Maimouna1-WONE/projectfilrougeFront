<a href="../addpromo"><span class="material-icons">account_balance</span></a>
<flash-messages></flash-messages>
<table mat-table [dataSource]="promos" class="table table-bordered table-responsive table-bordered-dark"  matSort matSortStart="desc">
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef>#</th>
    <td mat-cell *matCellDef="let promo"> {{promo.id}} </td>
  </ng-container>
  <ng-container matColumnDef="libelle">
    <th mat-header-cell *matHeaderCellDef>Libelle</th>
    <td mat-cell *matCellDef="let promo"> {{promo.libelle}} </td>
  </ng-container>
  <ng-container matColumnDef="lieu">
    <th mat-header-cell *matHeaderCellDef>Lieu</th>
    <td mat-cell *matCellDef="let promo"> {{promo.lieu}} </td>
  </ng-container>
  <ng-container matColumnDef="langue">
    <th mat-header-cell *matHeaderCellDef>Langue</th>
    <td mat-cell *matCellDef="let promo"> {{promo.langue}} </td>
  </ng-container>
  <ng-container matColumnDef="description">
    <th mat-header-cell *matHeaderCellDef>Description</th>
    <td mat-cell *matCellDef="let promo"> {{promo.description}} </td>
  </ng-container>
  <ng-container matColumnDef="reference_agate">
    <th mat-header-cell *matHeaderCellDef>Reference Agate</th>
    <td mat-cell *matCellDef="let promo"> {{promo.reference_agate}} </td>
  </ng-container>
  <ng-container matColumnDef="date_debut">
    <th mat-header-cell *matHeaderCellDef>Date debut</th>
    <td mat-cell *matCellDef="let promo"> {{promo.dateDebut | date: 'dd/MM/yyyy'}} </td>
  </ng-container>
  <ng-container matColumnDef="date_fin">
    <th mat-header-cell *matHeaderCellDef>Date fin</th>
    <td mat-cell *matCellDef="let promo"> {{promo.dateFin | date: 'dd/MM/yyyy'}} </td>
  </ng-container>
  <ng-container matColumnDef="referentiel">
    <th mat-header-cell *matHeaderCellDef>Referentiel</th>
    <td   mat-cell *matCellDef="let promo">
      <a (click)="detailRef(promo.referentiel, promo)">{{promo.referentiel.id}}</a>
      <div id="deter{{promo.id}}" *ngIf="referentiel" class="bg-info border">
        <label>Libelle: {{referentiel.libelle}}</label><br>
        <label>Presentation: {{referentiel.presentation}}</label>
      </div>
    </td>
  </ng-container>
  <ng-container matColumnDef="avatar">
    <th mat-header-cell *matHeaderCellDef>Avatar</th>
    <td mat-cell *matCellDef="let promo"><img width="70" height="70" class="img-thumbnail" src="data:image/jpeg;base64,{{promo.avatar}}" alt="pic"></td>
  </ng-container>
  <ng-container matColumnDef="delete">
    <th mat-header-cell *matHeaderCellDef>Delete</th>
    <td mat-cell *matCellDef="let promo">
      <button mat-fab color="warn" (click)="deletePromo(promo)"><span class="material-icons">delete</span></button>
    </td>
  </ng-container>
  <ng-container matColumnDef="liste">
    <th mat-header-cell *matHeaderCellDef>Liste des Apprenants</th>
    <td mat-cell *matCellDef="let promo">
      <button class="btn-dark" type="submit" (click)="getApprenant()"><span class="material-icons b" style="color: royalblue">view_list</span></button>
    </td>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="colonne"></tr>
  <tr mat-row *matRowDef="let row; columns: colonne;"></tr>
</table>
<div class="d-flex justify-content-center">
  <mat-paginator [length]="5"
                 [pageIndex]=""
                 [pageSize]="pageSize"
                 [pageSizeOptions]="[1, 2, 3, 4, 5]"
                 (page)="pageEvent = getServerData($event)">

  </mat-paginator>
</div>
<p id="message">{{message}}</p>
<div *ngFor="let prin of principal">
  <label for="">{{prin.id}}</label>
  <label for="">{{prin.langue}}</label>
</div>
